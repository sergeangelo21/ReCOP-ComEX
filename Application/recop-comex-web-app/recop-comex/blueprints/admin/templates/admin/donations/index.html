{% extends "admin-base.html" %}

{% block content %}
			<div class="notification gold">
				<div class="columns">
					<div class="column is-3">
						<article class="media">
						  	<figure class="media-left"> 
						  		<a href="" class="button viewbtn is-active">
									<span class="icon">
										<i class="fa fa-list"></i>
									</span>
								</a>
								<a href="" class="button viewbtn">
									<span class="icon">
										<i class="fa fa-chart-pie"></i>
									</span>
								</a>
						  	</figure>
						</article>
					</div>
					<div class="column is-6">
						<div class="tabs proposal is-toggle has-text-weight-bold is-centered">
						  <ul>
						    <li {% if status=='all' %} class="is-active" {% endif %}>
						      <a href="{{url_for('admin.donations', status='all', search=search)}}">
						        <span class="icon is-small"><i class="fas fa-list-ul" aria-hidden="true"></i></span>
						        <span class="proposal">All</span>
						      </a>
						    </li>
						    <li {% if status=='new' %} class="is-active" {% endif %}>
						      <a href="{{url_for('admin.donations', status='new', search=search)}}">
						        <span class="icon is-small"><i class="fas fa-plus" aria-hidden="true"></i></span>
						        <span class="proposal">New</span>
						      </a>
						    </li>
						    <li {% if status=='received' %} class="is-active" {% endif %}>
						      <a href="{{url_for('admin.donations', status='received', search=search)}}">
						        <span class="icon is-small"><i class="fas fa-check" aria-hidden="true"></i></span>
						        <span class="proposal">Received</span>
						      </a>
						    </li>
						    <li {% if status=='declined' %} class="is-active" {% endif %}>
						      <a href="{{url_for('admin.donations', status='declined', search=search)}}">
						        <span class="icon is-small"><i class="fas fa-times" aria-hidden="true"></i></span>
						        <span class="prop">Declined</span>
						      </a>
						    </li>
						  </ul>
						</div>
					</div>

					<div class="column">
						<div class="field has-addons is-pulled-right has-addons-centered">
							<form action="" method="POST">
								{{form.hidden_tag()}}
							<div class="field-body">
								<p class="control">
							    	{{form.search(class_='input', placeholder='Search')}}
								</p>
								<p class="control">
							     	{{form.submit(class_='button search')}}
								</p>
							</div>
							</form>
						</div>
					</div>
				</div>
			</div>


			<div class="columns is-gapless">
				<div class="column is-2">
					<div class="notification filter">
						<div class="columns">
			                <div class="column">
			                	<p class="title is-size-5">Sponsee</p>

			                  	<div class="field">
				                  	<input class="is-checkradio has-background-color is-warning" id="7" type="checkbox" name="7" checked="checked">
				                    <label for="7">All</label>
				                </div>
				                <div class="field">
				                  	<input class="is-checkradio has-background-color is-warning" id="8" type="checkbox" name="8">
				                    <label for="8">Community</label>
				                </div>
				                <div class="field">
				                  	<input class="is-checkradio has-background-color is-warning" id="9" type="checkbox" name="9">
				                    <label for="9">Event</label>
				                </div>

			                	<p class="title is-size-5">Type</p>

			                  	<div class="field">
				                  	<input class="is-checkradio has-background-color is-warning" id="7" type="checkbox" name="7" checked="checked">
				                    <label for="7">All</label>
				                </div>
				                <div class="field">
				                  	<input class="is-checkradio has-background-color is-warning" id="8" type="checkbox" name="8">
				                    <label for="8">Cash</label>
				                </div>
				                <div class="field">
				                  	<input class="is-checkradio has-background-color is-warning" id="9" type="checkbox" name="9">
				                    <label for="9">In-kind</label>
				                </div>
			                </div>
			            </div>
					</div>
				</div>
				<div class="column">
					<div class="card list">
						<div class="card-header">
							<p class="card-header-title">
							{% if search!=' ' %}
							You searched for '{{search}}'
							<a href="{{url_for('admin.donations', status=status, search=' ')}}"><span class="fas fa-times"></span></a>
							&nbsp; in
							{% endif %}
							{{status | title }} Donations</p>
							<div class="is-pulled-right">
								<p class="card-header-title">
									Total: {{donations | length}}
								</p>
							</div>
						</div>
						<div class="card-content">
							<div class="table-responsive">
								<table class="table is-fullwidth">
									{% if donations %}
									<thead>
										<tr>
											<th class="newlist">ID</th>
										    <th class="newlist">Sponsee</th>
										    <th class="newlist">Sponsor</th>
										    <th class="newlist">Amount</th>
										    {% if status=='all' %}<th class="newlist">Status</th>{% endif %}
										    <th class="newlist">Date Given</th>
										    <th class="newlist hidedesktop">Actions</th>
										 </tr>
										
									</thead>
									<tbody>
										{% for donation in donations %}
											{% include 'admin/donations/_donations.html' %}
										{% endfor %}
									</tbody>
									{% else %}
								<tbody>

									<tr class = "table-row">
										<td class = "has-text-centered">---Nothing to show---</td>
								 	</tr>
									
								</tbody>

								{% endif %}
								</table>
							</div>
						</div>
					</div>	
				</div>

			</div>
{% endblock %}